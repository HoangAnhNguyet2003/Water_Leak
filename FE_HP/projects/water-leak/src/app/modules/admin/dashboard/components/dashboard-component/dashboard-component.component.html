<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>Dashboard</h1>
    <button class="refresh-btn" (click)="onRefreshData()">
      <i class="icon-refresh"></i>
      Làm mới
    </button>
  </div>

  <div class="dashboard-content" *ngIf="!isLoading(); else loadingTemplate">
    <div class="stats-grid" *ngIf="dashboardStats().length > 0; else noDataTemplate">
      <div
        class="stat-card"
        *ngFor="let stat of dashboardStats(); trackBy: trackByStatId"
        [class]="'stat-card-' + stat.type">

        <div class="stat-content">
          <div class="stat-header">
            <h3 class="stat-title">{{ stat.title }}</h3>
            <div class="stat-icon" [class]="'icon-' + stat.type">
              <i [class]="getIconClass(stat.type)"></i>
            </div>
          </div>

          <div class="stat-value">
            <span class="value">{{ stat.value | number }}</span>
            <span class="unit">{{ stat.description }}</span>
          </div>

          <div class="stat-footer">
            <button class="view-btn" (click)="onViewDetails(stat)">
              Xem chi tiết
            </button>
          </div>
        </div>
      </div>
    </div>

    <ng-template #noDataTemplate>
      <div class="no-data-container">
        <div class="no-data-content">
          <i class="fas fa-chart-bar no-data-icon"></i>
          <h3>Không có dữ liệu</h3>
          <p>Hiện tại chưa có dữ liệu dashboard để hiển thị.</p>
          <button class="refresh-btn" (click)="onRefreshData()">
            <i class="fas fa-sync-alt"></i>
            Thử lại
          </button>
        </div>
      </div>
    </ng-template>
  </div>

  <ng-template #loadingTemplate>
    <div class="loading-container">
      <div class="loading-spinner"></div>
      <p>Đang tải dữ liệu...</p>
    </div>
  </ng-template>
</div>
